---
date: 2021-02-21
title: 渗透测试之信息收集
#subtitle: 
categories: [渗透]
tags: [web,渗透]
---

> 所谓知彼知己，百战不殆。尽可能多的收集目标信息，渗透测试工作越容易。

### 1.域名信息

1. whois查询
2. 备案查询

### 2.子域名信息

如果目标网络规模比较大，则主域都是重点防护区域，我们不妨先进入某个子域。

1. 子域名检测工具

2. 在线子域名爆破

3. 搜索引擎

   ![image-20210221095020308](https://i.loli.net/2021/02/21/U5jaCnyofVGTNB3.png)

4. 在线DNS侦察

5. 证书透明度日志查询

### 3.敏感信息收集

使用谷歌搜索语法

例如：site:edu.cn intext:后台管理

![image-20210221094604294](https://i.loli.net/2021/02/21/RUitIAGy9oQEaBh.png)

### 4.端口信息

常用端口扫描工具：

* Nmap
* Masscan
* Zmap
* 御剑高速扫描

### 5.指纹识别

![image-20210221095526835](https://i.loli.net/2021/02/21/MKG6YutewDg4csS.png)

> CMS是Content Management System的缩写，意为"内容管理系统"。

根据网站特征识别出CMS，查找相关漏洞。

工具:御剑web指纹识别,WhatWeb,WebRobo.

也可以使用在线网站查询CMS指纹信息.

### 6.寻找真实IP

> CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。

第一步,判断目标网站是否使用CDN服务.

![img](https://i.loli.net/2021/02/21/5WotaMguZxOL7Rv.png)

* 通过ping,查看域名解析情况
* 全国多地ping服务,对比每个地区的结果是否一致,如果都是一样的,说明不存在CDN．

第二步，绕过CDN寻找真实IP

![image-20210221100509778](https://i.loli.net/2021/02/21/tex7XNCMAO2fSuQ.png)

* 扫描网站测试文件
* 子域名所在IP段
* 国外访问
* 查询域名解析记录
* APP抓包

### 7.收集敏感目录文件

探测Web目录结构和隐藏的敏感文件.

常用工具:

* DirBuster
* 御剑后台扫描 
* wwwscan
* spinder
* weakfilescan