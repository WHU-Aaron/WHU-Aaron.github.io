---
title: 博客迁移
date: 2022-12-04 22:23:50
categories: [blog]
tags: [blog,Github]
---

---

### 为什么迁移博客

之前的博客用了快三年，有一些小问题，另外发现有些图片失效了，甚至给我换了广告，不能忍。

而且速度很慢，准备换个框架，整体迁移一下。

以前用的是Jekyll，一个小众主题，很简洁，有语言翻译功能，手机端做的也不错。但是可扩展性差，用的人少，功能不完善。



### 需求

当前需求：

* 支持RSS

* 支持外链，GitHub，知乎等

* 支持查看运行时间，访问总次数。

* 支持归档，时间倒序排列。
* 支持转发到微信，qq，Twitter
* 相关文章推荐
* 写公告

长远需求：

* 评论
* 弹出聊天框
* 插入广告
* 支持打赏



### 寻找框架主题

主流静态框架有三种：

{% tabs test1 %}
<!-- tab Tab1-->
**Hexo**
<!-- endtab -->

<!-- tab Tab2-->
**Hugo**
<!-- endtab -->

<!-- tab Tab3-->
**Jekyll**
<!-- endtab -->
{% endtabs %}



最终决定用hexo

框架：https://github.com/hexojs/hexo

主题：[butterfly](https://github.com/jerryc127/hexo-theme-butterfly)

此框架国人用的人，有问题方便查找，此主题功能完善，看了别人的demo,特别惊艳。

可以满足我需要的所有需求。

缺点是不方便多端编辑，需要在本地生成之后上传所有文件。不像之前的Jekyll，只上传一个md文件就够了。



### 迁移进度

- [x] 框架迁移
- [x] post迁移
- [x] 调整格式为hexo格式
- [ ] 图片迁移
- [ ] 多终端同步
- [x] 格式美化
- [ ] 配置CDN



### 安装插件

```npm install hexo-renderer-pug hexo-renderer-stylus --save
# 字数计数
npm install hexo-wordcount --save
# 本地搜索
npm install hexo-generator-search --save
# 慢加载
npm install hexo-lazyload-image --save
# push到GitHub
npm install hexo-deployer-git --save
# RSS订阅
npm install hexo-generator-feed --save

#后期安装，图片引用
cnpm install hexo-renderer-marked
```



### 一些小坑

1. 注意，配置文件冒号后面需要加空格。
2. 因为之前的githubpro过期了，免费github用户必须选择public仓库才能使用github pages功能，因此选择将仓库Public.
3. 目前此主题只支持UA跟踪ID，查了一下，Google将于2023年7月下架，所以先不用了。



### 修改Profile README

顺便修改了一下github主页的readme，可以选不同颜色主题。

tokyonight

[![h4m5t's GitHub stats](https://github-readme-stats.vercel.app/api?username=h4m5t&theme=tokyonight&hide=contribs&show_icons=true)](https://github.com/h4m5t/github-readme-stats)

Vue

[![Top Langs](https://github-readme-stats.vercel.app/api/top-langs/?username=h4m5t&theme=vue&hide=html)](https://github.com/h4m5t/github-readme-stats)

参考下面的repo.

<a href="https://github.com/anuraghazra/github-readme-stats">
  <img align="center" src="https://github-readme-stats.vercel.app/api/pin/?username=anuraghazra&repo=github-readme-stats&theme=buefy" />
</a>
<a href="https://github.com/anuraghazra/anuraghazra.github.io">
  <img align="center" src="https://github-readme-stats.vercel.app/api/pin/?username=anuraghazra&repo=anuraghazra.github.io&theme=buefy" />
</a>

可以合并到表格，更整齐。

| <a href="https://github.com/h4m5t/github-readme-stats"><img align="center" src="https://github-readme-stats.vercel.app/api?username=h4m5t&show_icons=true&theme=vue&hide=contribs&hide_border=true" alt="h4m5t's github stats" /></a> | <a href="https://github.com/h4m5t/github-readme-stats"><img align="center" src="https://github-readme-stats.vercel.app/api/top-langs/?username=h4m5t&layout=default&theme=vue&hide=html&hide_border=true" /></a> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

或者使用自动生成器：

https://rahuldkjain.github.io/gh-profile-readme-generator/
