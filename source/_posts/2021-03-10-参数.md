---
date: 2021-03-10
title: Python命令行解析Argparse
#subtitle: 
categories: [blog]
tags: []
---

```python
import argparse
parser = argparse.ArgumentParser()
parser.parse_args()
```

`argparse`模块还会自动生成帮助和使用消息，并在用户为程序提供无效参数时发出错误。

`default`：没有设置值情况下的默认参数

`required:` 表示这个参数是否一定需要设置

`type`：参数类型

默认的参数类型是str类型，如果你的程序需要一个整数或者布尔型参数，你需要设置`type=int`或`type=bool`

`choices`：参数值只能从几个选项里面选择

`help`：指定参数的说明信息

`dest`：设置参数在代码中的变量名

argparse默认的变量名是`--`或`-`后面的字符串，但是你也可以通过`dest=xxx`来设置参数的变量名，然后在代码中用`args.xxx`来获取参数的值。

```python
# -*- coding: utf-8 -*-

import argparse

parser = argparse.ArgumentParser()

parser.add_argument("--square", help="display a square of a given number", type=int)
parser.add_argument("--cubic", help="display a cubic of a given number", type=int)

args = parser.parse_args()

if args.square:
    print args.square**2

if args.cubic:
    print args.cubic**3
```

